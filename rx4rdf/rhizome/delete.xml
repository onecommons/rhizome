<?xml version="1.0" encoding="ISO-8859-1"?>
<xu:modifications version="1.0" xmlns:xu="http://www.xmldb.org/xupdate"
    xmlns:a="http://rx4rdf.sf.net/ns/archive#"
    xmlns:wiki="http://rx4rdf.sf.net/ns/wiki#"
    xmlns:wf="http://rx4rdf.sf.net/ns/raccoon/xpath-ext#" 
    xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#' >    
    
    <xu:remove select="$__resource" />
    <!-- do it this way (instead of <xu:remove select="$__resource" />) 
       in order to use fine-grained authentication 
       <xu:variable name="dummy" select="wf:save-metadata('',$__resource)"/>
    -->
    <!-- remove the has-child statement if its a child of a folder -->
    <xu:remove select="/*/wiki:has-child[.=$__resource]" />
    <!-- delete external contents if necessary 
    todo: issue: need to do before deleting from model but need to do authentication first
    plus need authentication for delete-contents function
    <xu:variable name="dummy" select="wf:delete-contents($__resource)"/>
    -->
</xu:modifications>